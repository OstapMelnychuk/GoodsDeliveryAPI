databaseChangeLog:
  - changeSet:
      id: db.changelog-2020-07-16--add-setup-product-source-sites-mapping-table-1
      author: 0lezhka
      context: production, develop
      changes:
        - createTable:
            columns:
              - column:
                  name: product_source_site_mapping_id
                  type: bigint
              - column:
                  name: product_category_id
                  type: bigint
              - column:
                  name: product_category_url
                  type: varchar(1000)
              - column:
                  name: site_category_name
                  type: varchar(200)
              - column:
                  name: product_source_site_id
                  type: bigint
            remarks: This table contains url's of product categories and mapping site's categories to application's product categories.
            tableName: setup_product_source_sites_mapping
  - changeSet:
      id: db.changelog-2020-07-16--add-setup-product-source-sites-mapping-table-2
      author: 0lezhka
      context: production, develop
      changes:
        - addPrimaryKey:
            columnNames: product_source_site_mapping_id
            constraintName: setup_product_source_sites_mapping_pk
            tableName: setup_product_source_sites_mapping
            validate: true
        - addAutoIncrement:
            columnDataType: bigint
            columnName: product_source_site_mapping_id
            generationType: ALWAYS
            incrementBy: 1
            startWith: 1
            tableName: setup_product_source_sites_mapping
        - addForeignKeyConstraint:
            baseColumnNames: product_category_id
            baseTableName: setup_product_source_sites_mapping
            constraintName: setup_product_source_sites_mapping_setup_product_categories_fk
            referencedColumnNames: product_category_id
            referencedTableName: setup_product_categories
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: product_source_site_id
            baseTableName: setup_product_source_sites_mapping
            constraintName: setup_product_source_sites_mapping_setup_product_source_sites_fk
            referencedColumnNames: source_site_id
            referencedTableName: setup_product_source_sites
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: product_category_id
            constraintName: setup_product_source_sites_mapping_product_category_id_not_null_constraint
            tableName: setup_product_source_sites_mapping
            validate: true
        - addNotNullConstraint:
            columnDataType: varchar(1000)
            columnName: product_category_url
            constraintName: setup_product_source_sites_mapping_product_category_url_not_null_constraint
            tableName: setup_product_source_sites_mapping
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: site_category_name
            constraintName: setup_product_source_sites_mapping_site_category_name_not_null_constraint
            tableName: setup_product_source_sites_mapping
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: product_source_site_id
            constraintName: setup_product_source_sites_mapping_product_source_site_id_not_null_constraint
            tableName: setup_product_source_sites_mapping
            validate: true