databaseChangeLog:
  - changeSet:
      id: db.changelog-2020-07-12--add-products-table-1
      author: 0lezhka
      context: production, develop
      changes:
        - createTable:
            columns:
              - column:
                  name: product_id
                  type: bigint
              - column:
                  name: product_name
                  type: varchar(200)
              - column:
                  name: supplier_id
                  type: bigint
              - column:
                  name: amount
                  type: bigint
              - column:
                  name: measurment_unit_id
                  type: bigint
              - column:
                  name: description
                  type: varchar(4000)
              - column:
                  name: price
                  type: bigint
              - column:
                  name: currency_id
                  type: bigint
              - addAutoIncrement:
                  columnDataType: bigint
                  columnName: product_id
                  generationType: ALWAYS
                  incrementBy: 1
                  startWith: 1
                  tableName: products
            remarks: This table contains all available products.
            tableName: products
  - changeSet:
      id: db.changelog-2020-07-12--add-products-table-2
      author: 0lezhka
      context: production, develop
      changes:
        - addPrimaryKey:
              columnNames: product_id
              constraintName: products_pk
              tableName: products
              validate: true
        - addForeignKeyConstraint:
            baseColumnNames: measurment_unit_id
            baseTableName: products
            constraintName: fk_products_setup_measurment_units
            referencedColumnNames: measurment_unit_id
            referencedTableName: setup_measurment_units
            validate: true
        - addNotNullConstraint:
            columnDataType: varchar(200)
            columnName: product_name
            constraintName: products_product_name_not_null_constraint
            tableName: products
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: supplier_id
            constraintName: products_supplier_id_not_null_constraint
            tableName: products
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: amount
            constraintName: products_amount_not_null_constraint
            tableName: products
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: measurment_unit_id
            constraintName: products_measurment_unit_id_not_null_constraint
            tableName: products
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: price
            constraintName: products_price_not_null_constraint
            tableName: products
            validate: true
        - addNotNullConstraint:
            columnDataType: bigint
            columnName: currency_id
            constraintName: products_currency_id_not_null_constraint
            tableName: products
            validate: true